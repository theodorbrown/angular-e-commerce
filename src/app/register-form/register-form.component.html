<div class="flex min-h-full justify-center py-2 px-4 sm:px-6 lg:px-8">
  <div class="w-full max-w-4xl space-y-2">
    <img class="mx-auto h-12 w-auto" src="https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600"
         alt="Company logo">
    <h2 class="text-center text-3xl font-bold tracking-tight text-gray-900">Sign up to our platform</h2>
    <div>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="overflow-hidden shadow sm:rounded-md">
          <div class="bg-white px-4 py-5 sm:p-6">
            <div class="grid grid-cols-6 gap-6">
              <div class="col-span-6 sm:col-span-3">
                <label for="first-name" class="block text-sm font-medium text-gray-700">First name</label>
                <input formControlName="firstName" type="text" id="first-name"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                <ng-container *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched)">
                  <span *ngIf="firstName?.errors?.['required']" class="text-sm text-red-500 font-medium">
                    First name is mandatory.
                  </span>
                  <span *ngIf="firstName?.errors?.['minlength']" class="text-sm text-red-500 font-medium">
                    The minimum length for this field is {{ firstName?.errors?.['minlength']['requiredLength']}},
                    actual length is {{ firstName?.errors?.['minlength']['actualLength']}}.
                  </span>
                  <span *ngIf="firstName?.errors?.['maxlength']" class="text-sm text-red-500 font-medium">
                    The maximum length for this field is {{ firstName?.errors?.['maxlength']['requiredLength']}},
                    actual length is {{ firstName?.errors?.['maxlength']['actualLength']}}.
                  </span>
                </ng-container>
              </div>
              <div class="col-span-6 sm:col-span-3">
                <label for="last-name" class="block text-sm font-medium text-gray-700">Last name</label>
                <input formControlName="lastName" type="text" id="last-name"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                <ng-container *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)">
                  <span *ngIf="lastName?.errors?.['required']" class="text-sm text-red-500 font-medium">
                    Last name is mandatory.
                  </span>
                  <span *ngIf="lastName?.errors?.['minlength']" class="text-sm text-red-500 font-medium">
                    The minimum length for this field is {{ lastName?.errors?.['minlength']['requiredLength']}},
                    actual length is {{ lastName?.errors?.['minlength']['actualLength']}}.
                  </span>
                  <span *ngIf="lastName?.errors?.['maxlength']" class="text-sm text-red-500 font-medium">
                    The maximum length for this field is {{ lastName?.errors?.['maxlength']['requiredLength']}},
                    actual length is {{ lastName?.errors?.['maxlength']['actualLength']}}.
                  </span>
                </ng-container>
              </div>
              <div class="col-span-6 sm:col-span-6">
                <label for="age" class="block text-sm font-medium text-gray-700 sm:w-1/6 w-full">Age</label>
                <input formControlName="age" type="number" id="age"
                       class="mt-1 block sm:w-1/6  w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                <ng-container *ngIf="age?.invalid && (age?.dirty || age?.touched)">
                  <span *ngIf="age?.errors?.['required']" class="text-sm text-red-500 font-medium">
                    Age is mandatory.
                  </span>
                  <span *ngIf="age?.errors?.['min']" class="text-sm text-red-500 font-medium">
                    The minimum age is {{ age?.errors?.['min']['min']}}, actual is {{ age?.errors?.['min']['actual']}}.
                  </span>
                  <span *ngIf="age?.errors?.['max']" class="text-sm text-red-500 font-medium">
                    The maximum age is {{ age?.errors?.['max']['max']}}, actual is {{ age?.errors?.['max']['actual']}}.
                  </span>
                </ng-container>
              </div>
              <div class="col-span-6 sm:col-span-6">
                <label for="email-address"
                       class="block text-sm font-medium text-gray-700 sm:w-1/2  w-full">Email</label>
                <input formControlName="email" type="text" id="email-address"
                       class="mt-1 block sm:w-1/2  w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                <ng-container *ngIf="email?.invalid && (email?.dirty || email?.touched)">
                  <span *ngIf="email?.errors?.['required']" class="text-sm text-red-500 font-medium">
                    Email is mandatory.
                  </span>
                  <span *ngIf="email?.errors?.['email']" class="text-sm text-red-500 font-medium">
                    Please provide a valid email.
                  </span>
                  <span *ngIf="email?.errors?.['emailExist']" class="text-sm text-red-500 font-medium">
                    This email already exists.
                  </span>
                </ng-container>
              </div>
              <div class="col-span-6 sm:col-span-6">
                <div class="flex">
                  <span class="mr-1">
                    <label class="block text-sm font-medium text-gray-700">Code</label>
                    <div class="relative mt-1">
                      <button (click)="select=!select"
                              type="button"
                              class="relative cursor-default rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 text-left shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm">
                        <span class="flex items-center">
                          <span>{{ optionValue }}</span>
                          <span class="ml-3 block ">+{{findObject()}}</span>
                        </span>
                        <span class="pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2">
                          <fa-icon icon="chevron-down"></fa-icon>
                        </span>
                      </button>
                      <ul
                        (click)="select=false"
                        [ngClass]="{'hidden':!select}"
                        class="absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm">
                        <ng-container *ngFor="let obj of codesArray">
                          <li
                            (click)="optionValue=obj.country"
                            class="relative cursor-default select-none py-2 pl-3 pr-9 hover:bg-indigo-600 hover:text-white">
                            <div class="flex items-center">
                              <span>{{obj.country}}</span>
                              <span
                                [ngClass]="{'font-semibold':optionValue === obj.country}"
                                class="ml-3 block">+{{obj.code}}
                              </span>
                            </div>
                            <ng-container *ngIf="optionValue === obj.country">
                            <span class="text-indigo-600 absolute inset-y-0 right-0 flex items-center pr-4">
                              <fa-icon icon="check"></fa-icon>
                            </span>
                            </ng-container>
                          </li>
                        </ng-container>
                      </ul>
                    </div>
                  </span>
                  <span class="w-full">
                    <label for="phone" class="block text-sm font-medium text-gray-700 w-full">Phone number</label>
                    <input
                      [minlength]="phoneMinLength"
                      [maxlength]="phoneMaxLength"
                      pattern="[0-9]+"
                      formControlName="phone" type="text" id="phone"
                      class="mt-1 block sm:w-1/3 w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                  </span>
                </div>
                <ng-container *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)">
                  <span *ngIf="phone?.errors?.['required']" class="text-sm text-red-500 font-medium">
                    Phone number is mandatory.
                  </span>
                  <span *ngIf="phone?.errors?.['pattern']" class="text-sm text-red-500 font-medium">
                    Only numbers are accepted.
                  </span>
                  <span *ngIf="phone?.errors?.['maxlength']" class="text-sm text-red-500 font-medium">
                    Too long for your country code. Required length is {{ phone?.errors?.['maxlength']['requiredLength'] }}
                    .
                  </span>
                  <span *ngIf="phone?.errors?.['minlength']" class="text-sm text-red-500 font-medium">
                    Too short for your country code. Required length is {{ phone?.errors?.['minlength']['requiredLength'] }}
                    .
                  </span>
                </ng-container>
              </div>
              <div class="col-span-6 sm:col-span-3">
                <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                <input formControlName="password" type="password" id="password"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                <ng-container *ngIf="password?.invalid && (password?.dirty || password?.touched)">
                  <span *ngIf="password?.errors?.['required']" class="text-sm text-red-500 font-medium ">
                    Password is mandatory.
                  </span>
                  <span *ngIf="password?.errors?.['maxlength']" class="text-sm text-red-500 font-medium ">
                    The maximum length for this field is {{ password?.errors?.['maxlength']['requiredLength']}},
                    actual length is {{ password?.errors?.['maxlength']['actualLength']}}.
                  </span>
                </ng-container>
                <app-reu-error [hasError]="password?.hasError('has2up')"
                               [text]="'Two uppercase'"></app-reu-error>
                <app-reu-error [hasError]="password?.hasError('hasSymbol')"
                               [text]="'A symbol'"></app-reu-error>
                <app-reu-error [hasError]="password?.hasError('has2Digit')"
                               [text]="'Two digits'"></app-reu-error>
                <app-reu-error [hasError]="password?.hasError('has3Lo')"
                               [text]="'Three lowercase'"></app-reu-error>
                <app-reu-error [hasError]="password?.hasError('is8Long')"
                               [text]="'Eight characters'"></app-reu-error>
                <span
                  class="text-sm text-red-500 font-medium "
                  *ngIf="registerForm.errors?.['hasToMatch'] && password?.dirty && confirm?.dirty">
                  Passwords are not matching.
                </span>
              </div>
              <div class="col-span-6 sm:col-span-3">
                <label for="confirm" class="block text-sm font-medium text-gray-700">Confirm password</label>
                <input formControlName="confirm" type="password" id="confirm" autocomplete=""
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                <ng-container *ngIf="confirm?.invalid && (confirm?.dirty || confirm?.touched)">
                  <span *ngIf="confirm?.errors?.['required']" class="text-sm text-red-500 font-medium">
                    Confirm password is mandatory.
                  </span>
                </ng-container>
              </div>
            </div>
          </div>
          <div class="bg-gray-50 px-4 py-3 text-right sm:px-6">
            <button type="submit"
                    [disabled]="!registerForm.valid"
                    [ngClass]="{'bg-indigo-600 hover:bg-indigo-700': registerForm.valid, 'bg-gray-300': !registerForm.valid}"
                    class="inline-flex justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ">
              Register
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
